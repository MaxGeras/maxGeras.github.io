<!DOCTYPE html>
<html>
<head>
	<title>My Story</title>
</head>
<script type="text/javascript">
var res = "";

function readFile(elementId){

    var xmlhttp;
    document.getElementById("noun").style.visibility = "visible";
    document.getElementById("verb").style.visibility = "visible";
    document.getElementById("adjective").style.visibility = "visible";
    document.getElementById("pro").style.visibility = "visible";
    document.getElementById("place").style.visibility = "visible";
    
    document.getElementById("par").style.visibility = "visible";
    document.getElementById("par1").style.visibility = "visible";
    document.getElementById("par2").style.visibility = "visible";
    document.getElementById("par3").style.visibility = "visible";
    document.getElementById("par4").style.visibility = "visible";
    document.getElementById("story").style.visibility = "visible";
    document.getElementById("story").innerHTML = "Display";

    if(window.XMLHttpRequest){
        xmlhttp = new XMLHttpRequest();
    }else{
        smlhttp = new ActiveXobject("Microsoft.XMLHTTP");
    }
    
   
    var text = document.getElementById(elementId).getAttribute('value');

    xmlhttp.onreadystatechange = function(){ 
        if(xmlhttp.readyState == 4 && xmlhttp.status == 200){
            var myStory = xmlhttp.responseText;
            replace(myStory);
           
        }
    }
    
    xmlhttp.open("GET", text,true);
    xmlhttp.send();

}
function replace(myStory)
{
 
	 res = myStory;


}

function ChangeColor(elementId)
{

			document.getElementById(elementId).style.background = "Navy";
			document.getElementById(elementId).style.color = "White";

}

function changeBack(elementId)
{

			document.getElementById(elementId).style.background = "lightgrey";
			document.getElementById(elementId).style.color = "Black";

}

function mDown(obj) {
   	   obj.style.backgroundColor = "Green";
   
}

function mUp(obj) {
	obj.style.backgroundColor="DarkBlue";

}

function display()
{
	var noun = document.getElementById("noun").value;
	 var verb = document.getElementById("verb").value;
	 var adjective = document.getElementById("adjective").value;
	 var pro = document.getElementById("pro").value;
	 var place = document.getElementById("place").value; 

	 var myStr = res.replace(/noun/ig, noun)
					.replace(/verb/ig, verb)
					.replace(/adjective/ig, adjective)
	 				.replace(/pro/ig, pro)
	 				.replace(/place/ig, place);

	document.getElementById('result').innerHTML = myStr;

}
	
</script>

<body>

<h1>Welcome to my story</h1>
<p>Choose a story : </p>
<div onmouseover="ChangeColor(this.id)" onmouseleave="changeBack(this.id)" id="albert" value="alber.txt" onclick="readFile(this.id)" 
>Albert Einstein</div>
<div id="alice" value="alice.txt" onclick="readFile(this.id)"  onmouseover="ChangeColor(this.id)" onmouseleave="changeBack(this.id)">
Alice </div>

<p id="par" style="visibility:hidden;">Noun : </p> 
<input type="text" name="noun" id="noun" style="visibility:hidden;"> 

<p id="par1" style="visibility:hidden;">Verb : </p>
 <input type="text" name="verb" id="verb" style="visibility:hidden;">

<p id="par2" style="visibility:hidden;">Place : </p> 
<input type="text" name="place" id="place" style="visibility:hidden;">

<p id="par3" style="visibility:hidden;">Adjective : </p>
 <input type="text" name="adjective" id="adjective" style="visibility:hidden;">

<p id="par4" style="visibility:hidden;">Pronoun : </p> 
<input type="text" name="pronoun" id="pro" style="visibility:hidden;"><br>

<button style="visibility:hidden;" id="story" onclick="display()"></button> 

<div id="result"><div>


</body>
</html>
